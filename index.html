<!doctype html>
<html lang="tr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Abdil Baki | 30. YaÅŸ SÃ¼rprizi ğŸ‰</title>
  <style>
    :root{
      --bg1:#0b1020; --bg2:#120a22;
      --card: rgba(255,255,255,.08);
      --text: rgba(255,255,255,.92);
      --muted: rgba(255,255,255,.72);
      --border: rgba(255,255,255,.14);
      --shadow: 0 20px 60px rgba(0,0,0,.45);
      --radius: 18px;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
      color:var(--text);
      min-height:100vh;
      background:
        radial-gradient(1200px 600px at 20% 10%, rgba(120,80,255,.25), transparent 60%),
        radial-gradient(900px 500px at 80% 20%, rgba(255,120,180,.18), transparent 55%),
        radial-gradient(900px 600px at 50% 90%, rgba(0,220,255,.14), transparent 55%),
        linear-gradient(160deg, var(--bg1), var(--bg2));
      overflow-x:hidden;
      opacity:0;
      animation: pageIn .9s ease forwards;
    }
    @keyframes pageIn{ to {opacity:1;} }

    canvas#confetti{
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 999;
    }

    .wrap{max-width:980px;margin:0 auto;padding:28px 18px 56px;}
    header{
      display:flex;align-items:center;justify-content:space-between;gap:12px;margin-bottom:18px;
      opacity:0; transform: translateY(-6px);
      animation: floatIn .7s ease .12s forwards;
    }
    @keyframes floatIn{ to {opacity:1; transform: translateY(0);} }

    .badge{
      display:inline-flex;align-items:center;gap:8px;
      padding:10px 12px;border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      border-radius:999px;backdrop-filter: blur(10px);
      box-shadow: var(--shadow);font-size:13px;color:var(--muted);
    }
    .badge b{color:var(--text)}
    .card{
      border:1px solid var(--border);
      background: var(--card);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      backdrop-filter: blur(12px);
      overflow:hidden;
    }
    .hero{
      padding:26px 20px 22px;
      opacity:0; transform: translateY(10px);
      animation: floatIn .8s ease .2s forwards;
    }
    h1{margin:0 0 6px;font-size:clamp(24px,3.2vw,36px);letter-spacing:.2px;}
    .sub{margin:0;color:var(--muted);line-height:1.5;font-size:15px;}

    .grid{display:grid;grid-template-columns: 1.25fr .75fr;gap:14px;margin-top:14px;}
    @media (max-width:860px){.grid{grid-template-columns:1fr;}}

    .cta{padding:18px;display:flex;flex-direction:column;gap:12px;justify-content:center;align-items:flex-start;}
    .btns{display:flex;gap:10px;flex-wrap:wrap;}
    button{
      border:1px solid var(--border);
      background: rgba(255,255,255,.10);
      color: var(--text);
      padding:12px 14px;border-radius:12px;
      cursor:pointer;font-weight:650;letter-spacing:.2px;
      transition: transform .08s ease, background .2s ease, filter .2s ease;
    }
    button:hover{background: rgba(255,255,255,.14); filter: brightness(1.05);}
    button:active{transform: scale(.98)}
    .primary{background: rgba(140,90,255,.35);border-color: rgba(140,90,255,.55);}
    .primary:hover{background: rgba(140,90,255,.45)}
    .tiny{font-size:12px;color:var(--muted);line-height:1.45;margin:0;}

    .message{padding:18px 18px 22px;min-height:240px;position:relative;}
    .typebox{
      font-size:16px;line-height:1.75;color: rgba(255,255,255,.9);
      white-space:pre-wrap;word-break:break-word;min-height:150px;
    }
    .cursor{
      display:inline-block;width:10px;height:18px;transform: translateY(3px);
      background: rgba(255,255,255,.75);margin-left:2px;animation: blink 1s step-end infinite;
    }
    @keyframes blink{50%{opacity:0}}
    .meta{margin-top:12px;display:flex;gap:10px;flex-wrap:wrap;color: var(--muted);font-size:13px;}
    .pill{padding:8px 10px;border-radius:999px;border:1px solid var(--border);background: rgba(255,255,255,.06);}

    .slider{position:relative;padding:18px;display:flex;flex-direction:column;gap:10px;}
    .frame{
      border-radius:14px;border:1px solid var(--border);overflow:hidden;
      background: rgba(0,0,0,.25);
      aspect-ratio:16/9;display:flex;align-items:center;justify-content:center;position:relative;
    }
    .frame img{
      width:100%;height:100%;object-fit:cover;display:block;
      opacity:0; transition: opacity .55s ease; /* fade */
    }
    .frame img.show{opacity:1}
    .caption{
      position:absolute;left:10px;bottom:10px;
      padding:8px 10px;border-radius:999px;border:1px solid var(--border);
      background: rgba(0,0,0,.35);backdrop-filter: blur(8px);
      font-size:13px;color: rgba(255,255,255,.85);
    }
    .nav{display:flex;align-items:center;justify-content:space-between;gap:10px;}
    .dots{display:flex;gap:6px;}
    .dot{
      width:8px;height:8px;border-radius:99px;border:1px solid var(--border);
      background: rgba(255,255,255,.10);opacity:.7;cursor:pointer;
    }
    .dot.on{opacity:1;background: rgba(255,255,255,.35)}
    .range{width:100%;accent-color:auto;}
  </style>
</head>

<body>
<canvas id="confetti"></canvas>

<div class="wrap">
  <header>
    <div class="badge">ğŸ‚ <b>30. YaÅŸ</b> â€¢ Abdil Baki iÃ§in</div>
    <div class="badge">âœ¨ â€œSÃ¼rprizi BaÅŸlatâ€ ile aÃ§Ä±lÄ±r</div>
  </header>

  <section class="card hero">
    <h1>Ä°yi ki varsÄ±n Abim â¤ï¸</h1>
    <p class="sub">
      Butona basÄ±nca mesaj yazÄ±lÄ±r, mÃ¼zik baÅŸlar, konfeti yaÄŸar ve fotoÄŸraflar akar.
    </p>

    <div class="grid">
      <div class="card message">
        <div id="typeTarget" class="typebox"></div><span id="cursor" class="cursor" style="display:none;"></span>
        <div class="meta">
          <span class="pill">ğŸµ MP3 (kÄ±sÄ±k)</span>
          <span class="pill">ğŸ“¸ Fade slayt</span>
          <span class="pill">ğŸ‰ GerÃ§ek konfeti</span>
        </div>
      </div>

      <div class="card cta">
        <div class="btns">
          <button class="primary" id="startBtn">SÃ¼rprizi BaÅŸlat ğŸ‰</button>
          <button id="toggleMusicBtn" disabled>MÃ¼ziÄŸi Durdur â¸ï¸</button>
          <button id="replayBtn" disabled>Yeniden Oynat â†»</button>
        </div>
        <p class="tiny">
          MP3 dosyanÄ± bu HTML ile aynÄ± klasÃ¶re koy: <b>music.mp3</b><br/>
          Ä°stersen dosya adÄ±nÄ± deÄŸiÅŸtir, aÅŸaÄŸÄ±daki MUSIC_FILEâ€™Ä± da aynÄ± yap.
        </p>

        <div class="slider">
          <div class="frame">
            <img id="slideImg" alt="FotoÄŸraf slaytÄ±" />
            <div id="slideCaption" class="caption">FotoÄŸraflar</div>
          </div>
          <div class="nav">
            <button id="prevBtn">â—€ï¸</button>
            <div class="dots" id="dots"></div>
            <button id="nextBtn">â–¶ï¸</button>
          </div>
          <input class="range" id="speed" type="range" min="2" max="10" step="1" value="5" />
          <p class="tiny">Slayt hÄ±zÄ±: <span id="speedLabel">5</span> sn</p>
        </div>
      </div>
    </div>
            </div>
      </div>
    </div>

    <!-- ğŸ¬ VIDEO BURADA -->
    <div style="margin-top:40px;">
      <h2 style="text-align:center;">Senin Ä°Ã§in KÃ¼Ã§Ã¼k Bir Video ğŸ¬</h2>
      <video width="100%" controls>
        <source src="video.mp4" type="video/mp4">
      </video>
    </div>

  </section>
</div>

  </section>
</div>

<!-- MP3 -->
<audio id="bgm" preload="auto" loop>
  <source src="music.mp3" type="audio/mpeg">
</audio>

<script>
  // ====== KOLAY DÃœZENLEME ALANI ======
  const MESSAGE_TEXT =
`CanÄ±m Abim Abdil Baki,

BugÃ¼n 30 yaÅŸÄ±na girdin ama benim iÃ§in her zaman hem yol gÃ¶sterenim hem de en bÃ¼yÃ¼k destekÃ§im oldun.
Yeri geldi kÄ±zdÄ±n, yeri geldi ÅŸakayla karÄ±ÅŸÄ±k da olsa gurur duydun benimle..

Ã‡ocukluÄŸumuzdan bugÃ¼ne kadar paylaÅŸtÄ±ÄŸÄ±mÄ±z her an benim iÃ§in Ã§ok deÄŸerli.
Bazen gÃ¼ldÃ¼k, bazen zor zamanlar geÃ§irdik ama her zaman kardeÅŸliÄŸimiz daha gÃ¼Ã§lÃ¼ oldu.

30 yaÅŸÄ±n sana saÄŸlÄ±k, huzur ve bolca mutluluk getirsin.
Hayallerin gerÃ§ek olsun, yÃ¼zÃ¼n hep gÃ¼lsÃ¼n.

Ä°yi ki varsÄ±n abim.
Seni Ã§ok seviyorum â¤ï¸`;

  const MUSIC_FILE = "music.mp3";
  const MUSIC_VOLUME = 0.18; // 0.00 - 1.00

  const SLIDES = [
    { url: "https://images.unsplash.com/photo-1520975958225-1c9953cf173b?auto=format&fit=crop&w=1600&q=80", cap: "Birlikte gÃ¼zel yÄ±llara" },
    { url: "https://images.unsplash.com/photo-1520975693411-b8b3b2f8f0a7?auto=format&fit=crop&w=1600&q=80", cap: "GÃ¼lÃ¼ÅŸÃ¼n hep kalsÄ±n" },
    { url: "https://images.unsplash.com/photo-1520975959860-3b78fd5b00b8?auto=format&fit=crop&w=1600&q=80", cap: "Nice mutlu yaÅŸlara" },
    { url: "https://images.unsplash.com/photo-1520975681930-1b12d60a8b83?auto=format&fit=crop&w=1600&q=80", cap: "Ä°yi ki varsÄ±n â¤ï¸" }
  ];
  // ====== BÄ°TTÄ° ======

  const startBtn = document.getElementById("startBtn");
  const replayBtn = document.getElementById("replayBtn");
  const toggleMusicBtn = document.getElementById("toggleMusicBtn");
  const typeTarget = document.getElementById("typeTarget");
  const cursor = document.getElementById("cursor");
  const bgm = document.getElementById("bgm");

  // dosya adÄ±nÄ± uygula
  const source = bgm.querySelector("source");
  source.src = MUSIC_FILE;
  bgm.load();

  // --- Typing ---
  let typingTimer = null;
  function typeText(text, speed=18){
    clearInterval(typingTimer);
    typeTarget.textContent = "";
    cursor.style.display = "inline-block";
    let i = 0;
    typingTimer = setInterval(() => {
      typeTarget.textContent += text[i] ?? "";
      i++;
      if (i >= text.length){
        clearInterval(typingTimer);
        setTimeout(()=> cursor.style.display="none", 600);
      }
    }, speed);
  }

  // --- Music ---
  function musicOn(){
    bgm.volume = MUSIC_VOLUME;
    bgm.play().then(()=>{
      toggleMusicBtn.textContent = "MÃ¼ziÄŸi Durdur â¸ï¸";
    }).catch(()=>{
      toggleMusicBtn.textContent = "MÃ¼ziÄŸi AÃ§ â–¶ï¸";
    });
  }

  function musicToggle(){
    if (bgm.paused){
      musicOn();
    } else {
      bgm.pause();
      toggleMusicBtn.textContent = "MÃ¼ziÄŸi AÃ§ â–¶ï¸";
    }
  }

  // --- Slider (fade) ---
  const slideImg = document.getElementById("slideImg");
  const slideCaption = document.getElementById("slideCaption");
  const prevBtn = document.getElementById("prevBtn");
  const nextBtn = document.getElementById("nextBtn");
  const dotsEl = document.getElementById("dots");
  const speed = document.getElementById("speed");
  const speedLabel = document.getElementById("speedLabel");

  let idx = 0;
  let slideTimer = null;

  function buildDots(){
    dotsEl.innerHTML = "";
    SLIDES.forEach((_, i) => {
      const d = document.createElement("div");
      d.className = "dot" + (i===idx ? " on":"");
      d.addEventListener("click", ()=> showSlide(i, true));
      dotsEl.appendChild(d);
    });
  }

  function showSlide(i, manual=false){
    if (!SLIDES.length) return;
    idx = (i + SLIDES.length) % SLIDES.length;
    const item = SLIDES[idx];

    slideImg.classList.remove("show");
    // kÃ¼Ã§Ã¼k gecikme ile fade-in
    setTimeout(() => {
      slideImg.src = item.url;
      slideCaption.textContent = item.cap || `FotoÄŸraf ${idx+1}`;
    }, 120);

    slideImg.onload = () => slideImg.classList.add("show");
    buildDots();
    if (manual) restartAuto();
  }

  function restartAuto(){
    clearInterval(slideTimer);
    slideTimer = setInterval(()=> showSlide(idx+1, false), Number(speed.value)*1000);
  }

  speed.addEventListener("input", () => {
    speedLabel.textContent = speed.value;
    restartAuto();
  });

  prevBtn.addEventListener("click", ()=> showSlide(idx-1, true));
  nextBtn.addEventListener("click", ()=> showSlide(idx+1, true));

  // --- Real Confetti (falling) ---
  const canvas = document.getElementById("confetti");
  const ctx = canvas.getContext("2d");
  let W=0, H=0, confetti=[], confettiOn=false;

  function resize(){
    W = canvas.width = window.innerWidth;
    H = canvas.height = window.innerHeight;
  }
  window.addEventListener("resize", resize);
  resize();

  function makeConfetti(){
    const pieces = 180;
    confetti = Array.from({length: pieces}, () => ({
      x: Math.random()*W,
      y: -20 - Math.random()*H*0.6,
      r: 4 + Math.random()*7,
      vx: -1.5 + Math.random()*3,
      vy: 2 + Math.random()*5,
      rot: Math.random()*Math.PI,
      vr: -0.15 + Math.random()*0.3,
      a: 0.7 + Math.random()*0.3
    }));
  }

  function drawConfetti(){
    if (!confettiOn) return;
    ctx.clearRect(0,0,W,H);

    confetti.forEach(p=>{
      p.x += p.vx;
      p.y += p.vy;
      p.rot += p.vr;

      // ekrandan Ã§Ä±kÄ±nca yukarÄ± al
      if (p.y > H + 30) {
        p.y = -20;
        p.x = Math.random()*W;
      }
      // saÄŸ/sol taÅŸarsa iÃ§eri sar
      if (p.x < -30) p.x = W + 30;
      if (p.x > W + 30) p.x = -30;

      const hue = (p.x/W)*360;
      ctx.save();
      ctx.translate(p.x,p.y);
      ctx.rotate(p.rot);
      ctx.globalAlpha = p.a;
      ctx.fillStyle = `hsla(${hue}, 90%, 70%, ${p.a})`;
      ctx.fillRect(-p.r/2, -p.r/2, p.r, p.r*1.35);
      ctx.restore();
    });

    requestAnimationFrame(drawConfetti);
  }

  function startConfetti(){
    confettiOn = true;
    makeConfetti();
    drawConfetti();

    // 6 saniye sonra durdur
    setTimeout(()=> confettiOn=false, 6000);
    setTimeout(()=> ctx.clearRect(0,0,W,H), 6500);
  }

  // --- Start / Replay ---
  function startAll(){
    startBtn.disabled = true;
    toggleMusicBtn.disabled = false;
    replayBtn.disabled = false;

    typeText(MESSAGE_TEXT, 18);
    showSlide(0);
    restartAuto();
    startConfetti();
    musicOn();
  }

  function replay(){
    startBtn.disabled = true;
    typeText(MESSAGE_TEXT, 18);
    startConfetti();
    showSlide(idx);
    restartAuto();
    musicOn();
  }

  startBtn.addEventListener("click", startAll);
  replayBtn.addEventListener("click", replay);
  toggleMusicBtn.addEventListener("click", musicToggle);

  // ilk yÃ¼klemede slider hazÄ±r dursun
  speedLabel.textContent = speed.value;
  showSlide(0);
</script>
</body>
</html>

